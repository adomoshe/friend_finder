<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <title>Friend Finder</title>
    <link rel='stylesheet' href='https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css' integrity='sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO'
        crossorigin='anonymous'>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
</head>
<style>
    body {
        background-image: url('images/friendsbg.jpg');
        background-attachment: fixed;
    }

    .card1 {
        margin-top: 4%;
        margin-bottom: 4%;
    }
    
</style>

<body>
    <nav class='navbar navbar-expand navbar-dark bg-primary'>
        <div class='text-light'>Friend Finder</div>
        <button class='navbar-toggler' type='button' data-toggle='collapse' data-target='#navbarText' aria-controls='navbarText'
            aria-expanded='false' aria-label='Toggle navigation'>
            <span class='navbar-toggler-icon'></span>
        </button>
        <div class='collapse navbar-collapse justify-content-end' id='navbarText'>
            <ul class='navbar-nav'>
                <li class='nav-item active'>
                    <a class='btn bg-primary nav-link' href='api/friends'>API Friends List</a>
                </li>
                <li class='nav-item active'>
                    <a class='btn bg-primary nav-link' href='https://github.com/adomoshe' target='_blank'>Github Repo</a>
                </li>
            </ul>
        </div>
    </nav>

    <nav class='container-fluid'>
        <nav class='row'>
            <nav class='col-sm-6 mx-auto'>
                <div class='card card1'>
                    <div class='card-body'>
                        <h3 class='card-title text-primary'>Survey Questions</h3>
                        <hr>
                        <h3>About You</h3>
                        <br>
                        <h4>Name</h4>
                        <form>
                            <input type='text' placeholder='Bob Smith' id='name' class='form-control'>
                            <br>
                            <h4>Link to Photo</h4>
                            <input type='text' placeholder='goo.gl/FjNWU6' id='photo' class='form-control'>
                            <hr>
                            <div class='form-group'>
                                <h3 class='text-primary'>Question 1</h3>
                                <h4>You like long walks on the beach.</h4>
                                <select class='form-group' id='question1'>
                                    <option value=''>Choose Value</option>
                                    <option value='1'>1 (Strongly Disagree)</option>
                                    <option value='2'>2</option>
                                    <option value='3'>3</option>
                                    <option value='4'>4</option>
                                    <option value='5'>5 (Strongly Agree)</option>
                                </select>
                            </div>

                            <div class='form-group'>
                                <h3 class='text-primary'>Question 2</h3>
                                <h4>You want to live in the city.</h4>
                                <select class='form-group' id='question2'>
                                    <option value=''>Choose Value</option>
                                    <option value='1'>1 (Strongly Disagree)</option>
                                    <option value='2'>2</option>
                                    <option value='3'>3</option>
                                    <option value='4'>4</option>
                                    <option value='5'>5 (Strongly Agree)</option>
                                </select>
                            </div>

                            <div class='form-group'>
                                <h3 class='text-primary'>Question 3</h3>
                                <h4>You find it easy to stay relaxed and focused even when there is some pressure.</h4>
                                <select class='form-group' id='question3'>
                                    <option value=''>Choose Value</option>
                                    <option value='1'>1 (Strongly Disagree)</option>
                                    <option value='2'>2</option>
                                    <option value='3'>3</option>
                                    <option value='4'>4</option>
                                    <option value='5'>5 (Strongly Agree)</option>
                                </select>
                            </div>

                            <div class='form-group'>
                                <h3 class='text-primary'>Question 4</h3>
                                <h4>You rarely do something just out of sheer curiosity.</h4>
                                <select class='form-group' id='question4'>
                                    <option value=''>Choose Value</option>
                                    <option value='1'>1 (Strongly Disagree)</option>
                                    <option value='2'>2</option>
                                    <option value='3'>3</option>
                                    <option value='4'>4</option>
                                    <option value='5'>5 (Strongly Agree)</option>
                                </select>
                            </div>

                            <div class='form-group'>
                                <h3 class='text-primary'>Question 5</h3>
                                <h4>People can rarely upset you.</h4>
                                <select class='form-group' id='question5'>
                                    <option value=''>Choose Value</option>
                                    <option value='1'>1 (Strongly Disagree)</option>
                                    <option value='2'>2</option>
                                    <option value='3'>3</option>
                                    <option value='4'>4</option>
                                    <option value='5'>5 (Strongly Agree)</option>
                                </select>
                            </div>

                            <div class='form-group'>
                                <h3 class='text-primary'>Question 6</h3>
                                <h4>It is often difficult for you to relate to other people’s feelings.</h4>
                                <select class='form-group' id='question6'>
                                    <option value=''>Choose Value</option>
                                    <option value='1'>1 (Strongly Disagree)</option>
                                    <option value='2'>2</option>
                                    <option value='3'>3</option>
                                    <option value='4'>4</option>
                                    <option value='5'>5 (Strongly Agree)</option>
                                </select>
                            </div>

                            <div class='form-group'>
                                <h3 class='text-primary'>Question 7</h3>
                                <h4>In a discussion, truth should be more important than people’s sensitivities.</h4>
                                <select class='form-group' id='question7'>
                                    <option value=''>Choose Value</option>
                                    <option value='1'>1 (Strongly Disagree)</option>
                                    <option value='2'>2</option>
                                    <option value='3'>3</option>
                                    <option value='4'>4</option>
                                    <option value='5'>5 (Strongly Agree)</option>
                                </select>
                            </div>

                            <div class='form-group'>
                                <h3 class='text-primary'>Question 8</h3>
                                <h4>You rarely get carried away by fantasies and ideas.</h4>
                                <select class='form-group' id='question8'>
                                    <option value=''>Choose Value</option>
                                    <option value='1'>1 (Strongly Disagree)</option>
                                    <option value='2'>2</option>
                                    <option value='3'>3</option>
                                    <option value='4'>4</option>
                                    <option value='5'>5 (Strongly Agree)</option>
                                </select>
                            </div>

                            <div class='form-group'>
                                <h3 class='text-primary'>Question 9</h3>
                                <h4>You think that everyone’s views should be respected regardless of whether they are
                                    supported by facts or not.</h4>
                                <select class='form-group' id='question9'>
                                    <option value=''>Choose Value</option>
                                    <option value='1'>1 (Strongly Disagree)</option>
                                    <option value='2'>2</option>
                                    <option value='3'>3</option>
                                    <option value='4'>4</option>
                                    <option value='5'>5 (Strongly Agree)</option>
                                </select>
                            </div>

                            <div class='form-group'>
                                <h3 class='text-primary'>Question 10</h3>
                                <h4>You feel more energetic after spending time with a group of people.</h4>
                                <select class='form-group' id='question10'>
                                    <option value=''>Choose Value</option>
                                    <option value='1'>1 (Strongly Disagree)</option>
                                    <option value='2'>2</option>
                                    <option value='3'>3</option>
                                    <option value='4'>4</option>
                                    <option value='5'>5 (Strongly Agree)</option>
                                </select>
                            </div>
                    </div>
                    <br>
                    <button type='submit' class='btn btn-primary btn-lg' id='submitForm'>Submit</button>
                    </form>
                </div>
            </nav>
        </nav>
    </nav>

    <footer>
    </footer>
</body>

</html>

<script>
let scores = []

    function scoresKey(value) {
        for (i = 1; i < 11; i++) {
            if (value === 'take') {
                scores.push($(`#question${i}`).val().trim());
            };
            if (value === 'clear') {
                $(`#question${i}`).val('');
            };
        };
    };

    $('#submitForm').on('click', function(event) {
        event.preventDefault();
        scoresKey('take');
        const newFriend = {
            name: $('#name').val().trim(),
            photo: $('#photo').val().trim(),
            scores: scores
        };
        console.log(newFriend);

        $.post('/api/friends', newFriend, function(data) {
            $('#name').val('');
            $('#photo').val('');
            scoresKey('clear');
            scores = [];
        });
    });

</script>